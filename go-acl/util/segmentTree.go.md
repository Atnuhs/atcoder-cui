---
data:
  _extendedDependsOn:
  - icon: ':question:'
    path: go-acl/main.go
    title: go-acl/main.go
  - icon: ':question:'
    path: go-acl/splay/map.go
    title: go-acl/splay/map.go
  - icon: ':question:'
    path: go-acl/splay/node.go
    title: go-acl/splay/node.go
  - icon: ':question:'
    path: go-acl/splay/node_test.go
    title: go-acl/splay/node_test.go
  - icon: ':question:'
    path: go-acl/splay/set.go
    title: go-acl/splay/set.go
  - icon: ':question:'
    path: go-acl/splay/set_test.go
    title: go-acl/splay/set_test.go
  - icon: ':question:'
    path: go-acl/testlib/assert.go
    title: go-acl/testlib/assert.go
  - icon: ':question:'
    path: go-acl/util/depq.go
    title: go-acl/util/depq.go
  - icon: ':question:'
    path: go-acl/util/depq_test.go
    title: go-acl/util/depq_test.go
  - icon: ':question:'
    path: go-acl/util/lib.go
    title: go-acl/util/lib.go
  - icon: ':question:'
    path: go-acl/util/lib_test.go
    title: go-acl/util/lib_test.go
  - icon: ':question:'
    path: go-acl/util/math.go
    title: go-acl/util/math.go
  - icon: ':question:'
    path: go-acl/util/math_test.go
    title: go-acl/util/math_test.go
  - icon: ':question:'
    path: go-acl/util/monoid.go
    title: go-acl/util/monoid.go
  - icon: ':question:'
    path: go-acl/util/sieve.go
    title: go-acl/util/sieve.go
  - icon: ':question:'
    path: go-acl/util/sieve_test.go
    title: go-acl/util/sieve_test.go
  - icon: ':question:'
    path: go-acl/util/unionfind.go
    title: go-acl/util/unionfind.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/aplusb/verify.test.go
    title: go-acl/verify/aplusb/verify.test.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/associative_array/verify.test.go
    title: go-acl/verify/associative_array/verify.test.go
  - icon: ':x:'
    path: go-acl/verify/double_ended_priority_queue/verify.test.go
    title: go-acl/verify/double_ended_priority_queue/verify.test.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/many_aplusb/verify.test.go
    title: go-acl/verify/many_aplusb/verify.test.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/predecessor_problem/verify.test.go
    title: go-acl/verify/predecessor_problem/verify.test.go
  _extendedRequiredBy:
  - icon: ':question:'
    path: go-acl/main.go
    title: go-acl/main.go
  - icon: ':question:'
    path: go-acl/splay/map.go
    title: go-acl/splay/map.go
  - icon: ':question:'
    path: go-acl/splay/node.go
    title: go-acl/splay/node.go
  - icon: ':question:'
    path: go-acl/splay/node_test.go
    title: go-acl/splay/node_test.go
  - icon: ':question:'
    path: go-acl/splay/set.go
    title: go-acl/splay/set.go
  - icon: ':question:'
    path: go-acl/splay/set_test.go
    title: go-acl/splay/set_test.go
  - icon: ':question:'
    path: go-acl/testlib/assert.go
    title: go-acl/testlib/assert.go
  - icon: ':question:'
    path: go-acl/util/depq.go
    title: go-acl/util/depq.go
  - icon: ':question:'
    path: go-acl/util/depq_test.go
    title: go-acl/util/depq_test.go
  - icon: ':question:'
    path: go-acl/util/lib.go
    title: go-acl/util/lib.go
  - icon: ':question:'
    path: go-acl/util/lib_test.go
    title: go-acl/util/lib_test.go
  - icon: ':question:'
    path: go-acl/util/math.go
    title: go-acl/util/math.go
  - icon: ':question:'
    path: go-acl/util/math_test.go
    title: go-acl/util/math_test.go
  - icon: ':question:'
    path: go-acl/util/monoid.go
    title: go-acl/util/monoid.go
  - icon: ':question:'
    path: go-acl/util/sieve.go
    title: go-acl/util/sieve.go
  - icon: ':question:'
    path: go-acl/util/sieve_test.go
    title: go-acl/util/sieve_test.go
  - icon: ':question:'
    path: go-acl/util/unionfind.go
    title: go-acl/util/unionfind.go
  _extendedVerifiedWith:
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/aplusb/verify.test.go
    title: go-acl/verify/aplusb/verify.test.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/associative_array/verify.test.go
    title: go-acl/verify/associative_array/verify.test.go
  - icon: ':x:'
    path: go-acl/verify/double_ended_priority_queue/verify.test.go
    title: go-acl/verify/double_ended_priority_queue/verify.test.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/many_aplusb/verify.test.go
    title: go-acl/verify/many_aplusb/verify.test.go
  - icon: ':heavy_check_mark:'
    path: go-acl/verify/predecessor_problem/verify.test.go
    title: go-acl/verify/predecessor_problem/verify.test.go
  _isVerificationFailed: true
  _pathExtension: go
  _verificationStatusIcon: ':question:'
  attributes: {}
  bundledCode: "Traceback (most recent call last):\n  File \"/home/runner/.local/lib/python3.10/site-packages/onlinejudge_verify/documentation/build.py\"\
    , line 71, in _render_source_code_stat\n    bundled_code = language.bundle(stat.path,\
    \ basedir=basedir, options={'include_paths': [basedir]}).decode()\n  File \"/home/runner/.local/lib/python3.10/site-packages/onlinejudge_verify/languages/user_defined.py\"\
    , line 68, in bundle\n    raise RuntimeError('bundler is not specified: {}'.format(str(path)))\n\
    RuntimeError: bundler is not specified: go-acl/util/segmentTree.go\n"
  code: "package util\n\ntype SegmentTree[T any] struct {\n\tdata []T\n\tn    int\n\
    \tmo   *Monoid[T]\n}\n\nfunc NewSegmentTree[T any](arr []T, mo *Monoid[T]) *SegmentTree[T]\
    \ {\n\tn := 1\n\tfor n < len(arr) {\n\t\tn *= 2\n\t}\n\n\tdata := NewArr(2*n-1,\
    \ func(i int) T { return mo.E })\n\tfor i := range arr {\n\t\tj := i + n - 1\n\
    \t\tdata[j] = arr[i]\n\t}\n\n\tfor i := n - 2; i >= 0; i-- {\n\t\tc1 := 2*i +\
    \ 1\n\t\tc2 := 2*i + 2\n\t\tdata[i] = mo.Op(data[c1], data[c2])\n\t}\n\n\treturn\
    \ &SegmentTree[T]{\n\t\tdata: data,\n\t\tn:    n,\n\t\tmo:   mo,\n\t}\n}\n\nfunc\
    \ (st *SegmentTree[T]) Update(i int, x T) {\n\ti += st.n - 1\n\tst.data[i] = x\n\
    \tfor i > 0 {\n\t\ti = (i - 1) / 2\n\t\tst.data[i] = st.mo.Op(st.data[2*i+1],\
    \ st.data[2*i+2])\n\t}\n}\n\nfunc (st *SegmentTree[T]) At(i int) T {\n\treturn\
    \ st.Query(i, i+1)\n}\n\nfunc (st *SegmentTree[T]) Query(a, b int) T {\n\treturn\
    \ st.querySub(a, b, 0, 0, st.n)\n}\n\nfunc (st *SegmentTree[T]) querySub(a, b,\
    \ n, l, r int) T {\n\tif r <= a || b <= l {\n\t\treturn st.mo.E\n\t}\n\n\tif a\
    \ <= l && r <= b {\n\t\treturn st.data[n]\n\t}\n\n\tvl := st.querySub(a, b, 2*n+1,\
    \ l, (l+r)/2)\n\tvr := st.querySub(a, b, 2*n+2, (l+r)/2, r)\n\treturn st.mo.Op(vl,\
    \ vr)\n}\n"
  dependsOn:
  - go-acl/verify/associative_array/verify.test.go
  - go-acl/verify/aplusb/verify.test.go
  - go-acl/verify/many_aplusb/verify.test.go
  - go-acl/verify/predecessor_problem/verify.test.go
  - go-acl/verify/double_ended_priority_queue/verify.test.go
  - go-acl/splay/node_test.go
  - go-acl/splay/set_test.go
  - go-acl/splay/node.go
  - go-acl/splay/set.go
  - go-acl/splay/map.go
  - go-acl/util/sieve_test.go
  - go-acl/util/math_test.go
  - go-acl/util/unionfind.go
  - go-acl/util/depq_test.go
  - go-acl/util/sieve.go
  - go-acl/util/math.go
  - go-acl/util/monoid.go
  - go-acl/util/depq.go
  - go-acl/util/lib_test.go
  - go-acl/util/lib.go
  - go-acl/testlib/assert.go
  - go-acl/main.go
  isVerificationFile: false
  path: go-acl/util/segmentTree.go
  requiredBy:
  - go-acl/splay/node_test.go
  - go-acl/splay/set_test.go
  - go-acl/splay/node.go
  - go-acl/splay/set.go
  - go-acl/splay/map.go
  - go-acl/util/sieve_test.go
  - go-acl/util/math_test.go
  - go-acl/util/unionfind.go
  - go-acl/util/depq_test.go
  - go-acl/util/sieve.go
  - go-acl/util/math.go
  - go-acl/util/monoid.go
  - go-acl/util/depq.go
  - go-acl/util/lib_test.go
  - go-acl/util/lib.go
  - go-acl/testlib/assert.go
  - go-acl/main.go
  timestamp: '2024-04-20 13:54:19+09:00'
  verificationStatus: LIBRARY_SOME_WA
  verifiedWith:
  - go-acl/verify/associative_array/verify.test.go
  - go-acl/verify/aplusb/verify.test.go
  - go-acl/verify/many_aplusb/verify.test.go
  - go-acl/verify/predecessor_problem/verify.test.go
  - go-acl/verify/double_ended_priority_queue/verify.test.go
documentation_of: go-acl/util/segmentTree.go
layout: document
redirect_from:
- /library/go-acl/util/segmentTree.go
- /library/go-acl/util/segmentTree.go.html
title: go-acl/util/segmentTree.go
---
